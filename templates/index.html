<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HN Show Titles</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="https://unpkg.com/htmx.org@1.8.1"></script>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N42VDYFEVV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'G-N42VDYFEVV');
</script>

<body class="bg-gray-100 text-gray-900">
  <div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-2">HackerNews Startup Roast</h1>
    <h2 class="text-xl mb-4">Guess whther a launch is successful</h2>
    {{if .}}
    <ul class="space-y-4">
      {{range .}}
      <li class="bg-white p-4 rounded-lg shadow-md flex items-center">
        <a href="{{.HNURL}}" target="_blank" class="flex-shrink-0 mr-4">
          <img src="/static/y18.svg" alt="Logo" class="w-6 h-6">
        </a>
        <div>
          <a href="{{.URL}}" target="_blank" class="text-blue-600 hover:underline">{{.Title}}</a>
          <p class="text-sm text-gray-600">{{.TimeAgo}}</p>
          <div class="mt-2 p-2 border border-gray-300 rounded  button-container">
            <p class="text-gray-700 mb-2">Guess and Reveal</p>
            <button hx-get="/reveal?objectID={{.ObjectID}}&action=bullish" hx-target="#result-{{.ObjectID}}" hx-swap="outerHTML"
              onclick="this.closest('.button-container').style.display='none';"
              class="text-sm text-white bg-blue-600 hover:bg-blue-700 font-bold py-2 px-4 rounded mr-2">
              Bullish
            </button>
            <button hx-get="/reveal?objectID={{.ObjectID}}&action=bearish" hx-target="#result-{{.ObjectID}}" hx-swap="outerHTML"
              onclick="this.closest('.button-container').style.display='none';"
              class="text-sm text-white bg-red-600 hover:bg-red-700 font-bold py-2 px-4 rounded">
              Bearish
            </button>

            
          </div>
          <p id="result-{{.ObjectID}}" class="text-sm text-gray-600 mt-2"></p>
        </div>
      </li>
      {{end}}
    </ul>
    {{else}}
    <p class="text-gray-600">No titles found.</p>
    {{end}}
  </div>
</body>
<footer class="bg-gray-800 text-white py-4">
  <div class="container mx-auto text-center">
    <a href="https://twitter.com/launchingmonkey" target="_blank" class="text-white hover:text-blue-500">
      <i class="fab fa-twitter"></i> @launchingmonkey
    </a>
  </div>
</footer>

</html>